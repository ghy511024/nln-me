<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html class="gblog">
    <head>
        <title>git 故障处理</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="import" href="../weight/cssjslink.html?__inline">
    </head>
    <body>
        <link rel="import" href="../weight/header.html?__inline">
        <div  class="banner">
            <link rel="import" href="../weight/b-inner.html?__inline">
        </div>
        <div class="main">
            <h1>git 故障处理 ebn</h1>
            <div class="zwrap">
                <div class="title">图解</div>
                <div class="content">
                    <p>三个地方 本地工作区，暂存区，本地仓库</p>
                    <img src="http://7xuac7.com1.z0.glb.clouddn.com/2016052720160527_csdn_gitreset.jpg" alt="" />
                </div>
            </div>
            <div class="zwrap">
                <div class="title">回退撤销</div>

                <div class="content">
                    <div class="zwrap">
                        <div class="title">checkout</div>
                        <div class="content">
                            <p>这是一条 <strong>危险命令</strong>，因为他会重写工作区,简单来说这条命令就是改变工作区，而 reset 主要是改变 缓冲区</p>
                            <ul>
                                <li>
                                    <p><code>git checkout [-q] [&lt;commit>] [--] &lt;paths>...</code></p>
                                    <p>用暂存区中filename文件来覆盖工作区中的filename文件。相当于取消自上次执行git add filename以来<strong>很危险</strong></p>
                                    <pre class="language"><code>

#用暂存区，替换工作区域
git checkout -- file
git checkout -- .
git checkout .
git checkout *.java

#用本地仓库，替换工作区域
git checkout master 
</code></pre>
                                    <p>场景：服务器获取最新代码，并且不希望存在多余的其他程序对此代码的修改，希望和git仓库里的代码一模一样</p>
                                </li>
                                <li>
                                    <p><code>git checkout  [&lt;branch>]</code></p>
                                    <p>切换分支</p>
                                    <p>需要注意的是，本地未commit . 提交的代码会随着分支切换带到新的分支上</p>
                                </li>
                                <li>
                                    <p><code>git checkout  HEAD</code></p>
                                    <p>列举，工作区，暂存区，本地仓库之间的区别</p>
                                </li>
                            </ul>
                        </div>
                    </div>

                    <div class="zwrap">
                        <div class="title">reset</div>
                        <div class="content">
                            <ul>
                                <li>
                                    <p><code>reset --mixed</code> （默认参数）</p>
                                    <p>已经commit 的文件，回退到未提交状态，相当于未提交</p>
                                    <pre class="language"><code>
# 先通过log找到上一次commit 的hash值
git log
# 撤销commit 和add 操作，并且修改部分都还在
git reset commit_id

</code></pre>
                                    <p>所有修过的文件的修改还在，并且还处于未add的状态。</p>
                                </li>
                                <li>
                                    <p><code>reset --soft</code></p>
                                    <p>撤销commit 但是不撤销add,所有文件修改还在，并且处于提交状态</p>
                                    <pre class="language"><code>
# 先通过log找到上一次commit 的hash值
git log
# 撤销commit 和add 操作，并且修改部分都还在
git reset --soft commit_id


</code></pre>
                                </li>
                                <li>
                                    <p><code>reset --hard</code></p>
                                    <p>这个命令 <strong>非常危险</strong> ，是 git 中少有的几个会丢失信息的操作。</p>
                                    <p>回退到指定的回退点，然后所有修改都会被删除的干干净净，不会保留 </p>
                                    <pre class="language"><code>
# 先通过log找到上一次commit 的hash值
git log
# 撤销commit 和add 操作，并且修改部分都还在
git reset --hard commit_id


</code></pre>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="zwrap">
                        <div class="title">pull</div>
                        <div class="content">

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>

<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html class="gblog">
    <head>
        <title>disk 磁盘命令</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="import" href="../weight/cssjslink.html?__inline">
    </head>
    <body>
        <link rel="import" href="../weight/header.html?__inline">
        <div  class="banner">
            <link rel="import" href="../weight/b-inner.html?__inline">
        </div>
        <div class="main">
            <h1>磁盘相关命令</h1>
            <div class="zwrap">
                <div class="title">
                    df
                </div>
                <div class="content">
                    <p> 显示磁盘分区上的可使用的磁盘空间</p>
                    <pre><code class="language">
[root@ghy ~]# df -h 
文件系统  容量  已用 可用 已用% 挂载点 
/dev/sda2 140G 27G  106G 21%  /dev
/dev/sda1 996M 61M  884M 7%  /boot

</code></pre>

                </div>
            </div>
            <div class="zwrap">
                <div class="title">
                    du
                </div>
                <div class="content">
                    <p> du [选项][文件] </p>
                    <p> du命令也是查看使用空间的，但是与df命令不同的是Linux du命令是对文件和目录磁盘使用的空间的查看，还是和df命令有一些区别的。</p>
                    <div class="zwrap">
                        <div class="title">选项</div>
                        <div class="content">
                            <ul>
                                <li>
                                    <code>-a</code> 或 <code>-all</code> 或  显示目录中个别文件的大小。  
                                </li>
                                <li>
                                    <code>-b</code> 或 <code>-bytes</code>  显示目录或文件大小时，以byte为单位。
                                </li>
                                <li>
                                    <code>-c</code> 或 <code>--total</code>  除了显示个别目录或文件的大小外，同时也显示所有目录或文件的总和。
                                </li>
                                <li>
                                    <code>-k</code> 或 <code>--kilobytes</code>  以KB(1024bytes)为单位输出。
                                </li>
                                <li>
                                    <code>-m</code> 或 <code>--megabytes</code>  以MB为单位输出。
                                </li>
                                <li>
                                    <code>-s</code> 或 <code>--summarize</code>  仅显示总计，只列出最后加总的值。
                                </li>
                                <li>
                                    <code>-h</code> 或 <code>--human-readable</code>  以K，M，G为单位，提高信息的可读性。
                                </li>
                                <li>
                                    <code>-x</code> 或 <code>--one-file-xystem</code>  以一开始处理时的文件系统为准，若遇上其它不同的文件系统目录则略过。 
                                </li>
                                <li>
                                    <code>-L</code> <符号链接>或 <code>--dereference</code>或<符号链接> 显示选项中所指定符号链接的源文件大小。  
                                </li>
                                <li>
                                    <code>-S</code> 或 <code>--separate-dirs</code>  显示个别目录的大小时，并不含其子目录的大小。
                                </li>
                                <li>
                                    <code>-X</code> <文件> 或 <code>--exclude-from=</code><文件>  在<文件>指定目录或文件。 
                                </li>
                                <li>
                                    <code>--exclude=</code> <目录或文件> 略过指定的目录或文件。
                                </li>
                                <li>
                                    <code>-D</code> 或 <code>--dereference-args</code> 显示指定符号链接的源文件大小。 
                                </li>
                                <li>
                                    <code>-H</code> 或 <code>--si</code>  与-h参数相同，但是K，M，G是以1000为换算单位。
                                </li>
                                <li>
                                    <code>-l</code> 或 <code>--count-links</code>   重复计算硬件链接的文件。  
                                </li>
                            </ul>
                        </div>

                        <p> 最后来个个荔枝</p>
                        <pre><code class="language">
[root@ghy ~]# du -h /etc
104K /etc/defaults 
6.0K /etc/X11 
8.0K /etc/bluetooth 
</code></pre>
                    </div>


                </div>
            </div>
            <div class="zwrap">
                <div class="title">
                    free
                </div>
                <div class="content">
                    <p>用法： free(选项)</p>
                    <p>free命令可以显示当前系统未使用的和已使用的内存数目，还可以显示被内核使用的内存缓冲区。</p>
                    <div class="zwrap">
                        <div class="title">选项</div>
                        <div class="content">
                            <ul>
                                <li><code>-b</code> 以Byte为单位显示内存使用情况；</li>
                                <li><code>-k</code> 以KB为单位显示内存使用情况；</li>
                                <li><code>-m</code> 以MB为单位显示内存使用情况；</li>
                                <li><code>-h</code> 以K，M，G为单位，提高信息的可读性。</li>
                                <li><code>-o</code> 不显示缓冲区调节列；</li>
                                <li><code>-s</code> <间隔秒数> 持续观察内存使用状况；</li>
                                <li><code>-t</code> 显示内存总和列；</li>
                                <li><code>-V</code> 显示版本信息。</li>
                            </ul>
                        </div>
                    </div>

                    <pre><code class="language">
free -m 
            total   used   free     shared  buffers cached 
Mem:        2016    1973   42       0       163     1497
 -/+ buffers/cache: 312    1703
 Swap:      4094    0      4094

</code></pre>
                    <p>第一部分Mem行解释：</p>
                    <ul>
                        <li>total：内存总数；</li>
                        <li>used：已经使用的内存数；</li>
                        <li>free：空闲的内存数；</li>
                        <li>shared：当前已经废弃不用；</li>
                        <li>buffers Buffer：缓存内存数；</li>
                        <li>cached Page：缓存内存数。</li>
                    </ul>
                    <p>关系：total = used + free</p>
                </div>
            </div>
        </div>
    </body>
</html>
